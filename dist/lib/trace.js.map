{"version":3,"sources":["trace.js"],"names":["Object","defineProperty","exports","value","traceable_1","require","trace","arg","_trace","flag","ctor","keys","prototype","forEach","key","dtor","getOwnPropertyDescriptor","traceable","default"],"mappings":"AAAA;AACA;AACA;AACA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAMC,cAAcC,QAAQ,aAAR,CAApB;AACA,SAASC,KAAT,CAAeC,GAAf,EAAoB;AAChB,QAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAOC,OAAOD,GAAP,CAAP;AACH,KAFD,MAGK;AACDC,eAAO,IAAP,EAAaD,GAAb;AACH;AACJ;AACDL,QAAQI,KAAR,GAAgBA,KAAhB;AACA,SAASE,MAAT,CAAgBC,IAAhB,EAAsB;AAClB,WAAO,UAAUC,IAAV,EAAgB;AACnBV,eAAOW,IAAP,CAAYD,KAAKE,SAAjB,EAA4BC,OAA5B,CAAoC,UAACC,GAAD,EAAS;AACzC,gBAAMC,OAAOf,OAAOgB,wBAAP,CAAgCN,KAAKE,SAArC,EAAgDE,GAAhD,CAAb;AACA,gBAAIC,QAAQ,OAAOA,KAAKZ,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,4BAAYa,SAAZ,CAAsBR,IAAtB,EAA4BC,KAAKE,SAAjC,EAA4CE,GAA5C;AACH;AACJ,SALD;AAMAd,eAAOW,IAAP,CAAYD,IAAZ,EAAkBG,OAAlB,CAA0B,UAACC,GAAD,EAAS;AAC/B,gBAAMC,OAAOf,OAAOgB,wBAAP,CAAgCN,IAAhC,EAAsCI,GAAtC,CAAb;AACA,gBAAIC,QAAQ,OAAOA,KAAKZ,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,4BAAYa,SAAZ,CAAsBR,IAAtB,EAA4BC,IAA5B,EAAkCI,GAAlC;AACH;AACJ,SALD;AAMH,KAbD;AAcH;AACDZ,QAAQgB,OAAR,GAAkBZ,KAAlB","file":"trace.js","sourcesContent":["\"use strict\";\r\n/* tslint:disable:ban-types */\r\n/* tslint:disable:only-arrow-functions */\r\n/* tslint:disable:space-before-function-paren */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst traceable_1 = require(\"./traceable\");\r\nfunction trace(arg) {\r\n    if (typeof arg === \"boolean\") {\r\n        return _trace(arg);\r\n    }\r\n    else {\r\n        _trace(true)(arg);\r\n    }\r\n}\r\nexports.trace = trace;\r\nfunction _trace(flag) {\r\n    return function (ctor) {\r\n        Object.keys(ctor.prototype).forEach((key) => {\r\n            const dtor = Object.getOwnPropertyDescriptor(ctor.prototype, key);\r\n            if (dtor && typeof dtor.value === \"function\") {\r\n                traceable_1.traceable(flag)(ctor.prototype, key);\r\n            }\r\n        });\r\n        Object.keys(ctor).forEach((key) => {\r\n            const dtor = Object.getOwnPropertyDescriptor(ctor, key);\r\n            if (dtor && typeof dtor.value === \"function\") {\r\n                traceable_1.traceable(flag)(ctor, key);\r\n            }\r\n        });\r\n    };\r\n}\r\nexports.default = trace;\r\n"]}