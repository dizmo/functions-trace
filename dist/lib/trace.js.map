{"version":3,"sources":["trace.js"],"names":["Object","defineProperty","exports","value","traceable_1","require","trace","arg","_trace","flag","ctor","keys","prototype","forEach","key","dtor","getOwnPropertyDescriptor","traceable","default"],"mappings":"AAAA;AACA;AACA;AACA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAMC,cAAcC,QAAQ,aAAR,CAApB;AACA,SAASC,KAAT,CAAeC,GAAf,EAAoB;AAChB,QAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAOC,OAAOD,GAAP,CAAP;AACH,KAFD,MAGK;AACDC,eAAO,IAAP,EAAaD,GAAb;AACH;AACJ;AACDL,QAAQI,KAAR,GAAgBA,KAAhB;AACA,SAASE,MAAT,CAAgBC,IAAhB,EAAsB;AAClB,WAAO,UAAUC,IAAV,EAAgB;AACnBV,eAAOW,IAAP,CAAYD,KAAKE,SAAjB,EAA4BC,OAA5B,CAAoC,UAACC,GAAD,EAAS;AACzC,gBAAMC,OAAOf,OAAOgB,wBAAP,CAAgCN,KAAKE,SAArC,EAAgDE,GAAhD,CAAb;AACA,gBAAIC,QAAQ,OAAOA,KAAKZ,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,4BAAYa,SAAZ,CAAsBR,IAAtB,EAA4BC,KAAKE,SAAjC,EAA4CE,GAA5C;AACH;AACJ,SALD;AAMAd,eAAOW,IAAP,CAAYD,IAAZ,EAAkBG,OAAlB,CAA0B,UAACC,GAAD,EAAS;AAC/B,gBAAMC,OAAOf,OAAOgB,wBAAP,CAAgCN,IAAhC,EAAsCI,GAAtC,CAAb;AACA,gBAAIC,QAAQ,OAAOA,KAAKZ,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,4BAAYa,SAAZ,CAAsBR,IAAtB,EAA4BC,IAA5B,EAAkCI,GAAlC;AACH;AACJ,SALD;AAMH,KAbD;AAcH;AACDZ,QAAQgB,OAAR,GAAkBZ,KAAlB","file":"trace.js","sourcesContent":["\"use strict\";\n/* tslint:disable:ban-types */\n/* tslint:disable:only-arrow-functions */\n/* tslint:disable:space-before-function-paren */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst traceable_1 = require(\"./traceable\");\nfunction trace(arg) {\n    if (typeof arg === \"boolean\") {\n        return _trace(arg);\n    }\n    else {\n        _trace(true)(arg);\n    }\n}\nexports.trace = trace;\nfunction _trace(flag) {\n    return function (ctor) {\n        Object.keys(ctor.prototype).forEach((key) => {\n            const dtor = Object.getOwnPropertyDescriptor(ctor.prototype, key);\n            if (dtor && typeof dtor.value === \"function\") {\n                traceable_1.traceable(flag)(ctor.prototype, key);\n            }\n        });\n        Object.keys(ctor).forEach((key) => {\n            const dtor = Object.getOwnPropertyDescriptor(ctor, key);\n            if (dtor && typeof dtor.value === \"function\") {\n                traceable_1.traceable(flag)(ctor, key);\n            }\n        });\n    };\n}\nexports.default = trace;\n"]}