{"version":3,"sources":["trace.js"],"names":["Object","defineProperty","exports","value","traceable_1","require","trace","arg","_trace","flag","ctor","global","TRACE","getOwnPropertyNames","prototype","forEach","name","dtor","getOwnPropertyDescriptor","_traceable"],"mappings":"AAAA;AACA;;AACA;;AACA;;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,SAASC,KAAT,CAAeC,GAAf,EAAoB;AAChB,MAAI,OAAOA,GAAP,KAAe,SAAnB,EAA8B;AAC1B,WAAOC,MAAM,CAACD,GAAD,CAAb;AACH,GAFD,MAGK;AACDC,IAAAA,MAAM,CAAC,IAAD,CAAN,CAAaD,GAAb;AACH;AACJ;;AACDL,OAAO,CAACI,KAAR,GAAgBA,KAAhB;;AACA,SAASE,MAAT,CAAgBC,IAAhB,EAAsB;AAClB,SAAO,UAAUC,IAAV,EAAgB;AACnB,QAAID,IAAI,IAAIE,MAAM,CAACC,KAAnB,EAA0B;AACtBZ,MAAAA,MAAM,CAACa,mBAAP,CAA2BH,IAAI,CAACI,SAAhC,EAA2CC,OAA3C,CAAmD,UAACC,IAAD,EAAU;AACzD,YAAMC,IAAI,GAAGjB,MAAM,CAACkB,wBAAP,CAAgCR,IAAI,CAACI,SAArC,EAAgDE,IAAhD,CAAb;;AACA,YAAIC,IAAI,IAAI,OAAOA,IAAI,CAACd,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,UAAAA,WAAW,CAACe,UAAZ,CAAuBV,IAAvB,EAA6BC,IAAI,CAACM,IAAlC,EAAwCN,IAAI,CAACI,SAA7C,EAAwDE,IAAxD;AACH;AACJ,OALD;AAMAhB,MAAAA,MAAM,CAACa,mBAAP,CAA2BH,IAA3B,EAAiCK,OAAjC,CAAyC,UAACC,IAAD,EAAU;AAC/C,YAAMC,IAAI,GAAGjB,MAAM,CAACkB,wBAAP,CAAgCR,IAAhC,EAAsCM,IAAtC,CAAb;;AACA,YAAIC,IAAI,IAAI,OAAOA,IAAI,CAACd,KAAZ,KAAsB,UAAlC,EAA8C;AAC1CC,UAAAA,WAAW,CAACe,UAAZ,CAAuBV,IAAvB,EAA6BC,IAAI,CAACM,IAAlC,EAAwCN,IAAxC,EAA8CM,IAA9C;AACH;AACJ,OALD;AAMH;AACJ,GAfD;AAgBH;;AACDd,OAAO,CAACM,MAAR,GAAiBA,MAAjB;AACAN,OAAO,WAAP,GAAkBI,KAAlB","sourcesContent":["\"use strict\";\n/* tslint:disable:ban-types */\n/* tslint:disable:only-arrow-functions */\n/* tslint:disable:space-before-function-paren */\n/* tslint:disable:trailing-comma */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst traceable_1 = require(\"./traceable\");\nfunction trace(arg) {\n    if (typeof arg === \"boolean\") {\n        return _trace(arg);\n    }\n    else {\n        _trace(true)(arg);\n    }\n}\nexports.trace = trace;\nfunction _trace(flag) {\n    return function (ctor) {\n        if (flag && global.TRACE) {\n            Object.getOwnPropertyNames(ctor.prototype).forEach((name) => {\n                const dtor = Object.getOwnPropertyDescriptor(ctor.prototype, name);\n                if (dtor && typeof dtor.value === \"function\") {\n                    traceable_1._traceable(flag, ctor.name)(ctor.prototype, name);\n                }\n            });\n            Object.getOwnPropertyNames(ctor).forEach((name) => {\n                const dtor = Object.getOwnPropertyDescriptor(ctor, name);\n                if (dtor && typeof dtor.value === \"function\") {\n                    traceable_1._traceable(flag, ctor.name)(ctor, name);\n                }\n            });\n        }\n    };\n}\nexports._trace = _trace;\nexports.default = trace;\n"],"file":"trace.js"}